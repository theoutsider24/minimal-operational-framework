<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="prev" title="Documentation" href="documentation.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->
        <title>Testing - minimal-operational-framework documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">minimal-operational-framework  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">minimal-operational-framework  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../organisation/stakeholders.html">Stakeholders</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tech/stack.html">Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tech/tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documentation</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Testing</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="testing">
<h1>Testing<a class="headerlink" href="#testing" title="Link to this heading">#</a></h1>
<p>How much testing is enough?</p>
<section id="unit-testing">
<h2>Unit Testing<a class="headerlink" href="#unit-testing" title="Link to this heading">#</a></h2>
</section>
<section id="manual-testing">
<h2>Manual Testing<a class="headerlink" href="#manual-testing" title="Link to this heading">#</a></h2>
</section>
<section id="behaviour-driven-development">
<h2>Behaviour-Driven Development<a class="headerlink" href="#behaviour-driven-development" title="Link to this heading">#</a></h2>
</section>
<section id="test-driven-development">
<h2>Test-Driven Development<a class="headerlink" href="#test-driven-development" title="Link to this heading">#</a></h2>
<section id="what-is-it-tdd">
<h3>What is it TDD?<a class="headerlink" href="#what-is-it-tdd" title="Link to this heading">#</a></h3>
<p>It’s about driving development from test, implementing a better code design and less about testing (seriously). You organise all your development activities around the need to verify what it is you’re developing and so testing becomes the tool that does the verification of code implementation ‘correctness’.</p>
<p>TDD encourages a more iterative approach to software development - moving in small steps, one feature/unit/component at a time.</p>
</section>
<section id="tdd-workflow">
<h3>TDD workflow<a class="headerlink" href="#tdd-workflow" title="Link to this heading">#</a></h3>
<p><img alt="TDD workflow" src="../_images/tdd-workflow.png" /></p>
<section id="steps">
<h4>Steps:<a class="headerlink" href="#steps" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>Express your intent in the form of a test. This is a mini specification in the form of a test. Think of it as writing a test for the code that does not exist. A good prompt could be to follow either the ‘Given, when, then’ or the ‘Arrange, Action, Assert’ framework. For example, if you want to test a feature that lets an authenticated user create posts, you could have something like the below:</p></li>
</ol>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">...</span>
<span class="x">//Given we have a user</span>
<span class="x">//Arrange</span>
<span class="x">$user = UserFactory::new()-&gt;create();</span>

<span class="x">//And this user is authenticated</span>
<span class="x">//Arrange</span>
<span class="x">$this-&gt;signIn($user);</span>
<span class="x">$this-&gt;assertTrue($user-&gt;isAuthenticated());</span>

<span class="x">//When the user requests to create a new post</span>
<span class="x">//Act</span>
<span class="x">$this-&gt;post(route(&#39;posts.store&#39;), [&#39;title&#39; =&gt; &#39;Test&#39;, &#39;body&#39; =&gt; &#39;Lorem ipsum...&#39;])-&gt;assertSessionHasNoErrors();</span>

<span class="x">//Then the post is successfully created</span>
<span class="x">//Assert</span>
<span class="x">$this-&gt;assertDatabaseHas(&#39;posts&#39;, 1);</span>

<span class="x">//And the user is the author of this post</span>
<span class="x">//Assert</span>
<span class="x">$post = Post::first();</span>
<span class="x">$this-&gt;assertEqual($post-&gt;author, $user);</span>
</pre></div>
</div>
<p>Here you simply express the steps you think are needed to be taken to create a post as an authenticated user. In other words, you are writing the code you believe the user would have taken (the test becomes a specification of this feature).</p>
<ol class="arabic simple" start="2">
<li><p>Run the test and see it fail. Of course it’s going to fail because you have not written the code that implements this test (specification). This is a useful feedback, it tells you step by step what the issues are and prompts you to sort them one by one. Using the example above, the test execution would most likely inform you of the following:</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="ne">Exception</span><span class="p">:</span> <span class="n">Route</span> <span class="s1">&#39;posts.store&#39;</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">exist</span><span class="o">.</span>
<span class="o">///</span> <span class="n">assuming</span> <span class="n">that</span> <span class="n">the</span> <span class="n">User</span> <span class="ow">and</span> <span class="n">its</span> <span class="n">factor</span> <span class="n">are</span> <span class="n">already</span> <span class="ow">in</span> <span class="n">place</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Create a minimum code to pass the test. You know now that you need to focus on creating this <code class="docutils literal notranslate"><span class="pre">posts.store</span></code> route which can handle accepting a <code class="docutils literal notranslate"><span class="pre">title</span></code> and <code class="docutils literal notranslate"><span class="pre">body</span></code> inputs as well as call a relevant controller or service method to a post, etc.</p></li>
<li><p>Run the test again. Having implemented the route, you run the test again and it will show another error. This is good as you are making progress and moving closer to implementing the test specification (feature). You then make another code implementation to address the next error, run the test, repeat this process until all the test errors are resolved and the test passes.</p></li>
</ol>
<p>The important bit here is that you got to the stable state of your feature where the test passes. Now you can use this as a ‘defence’ line to then start refactoring (improving) your code and/or test. This is now a tested, bear minimum code implementation that meets the feature specification. There are two important benefits here that are often overlooked: <strong>speed</strong> (minimum time spent implementing the feature) and <strong>quality</strong> (test is a proof that the feature works as specified).</p>
<ol class="arabic simple" start="5">
<li><p>Refactor. Now that you are in a stable, passing test state you can focus on refactoring both the test and the code implementation for quality. Quality here could mean many things: readability, generality or reusability of functions, classes or making the test and implementation simpler. You are more confident in doing any type of refactoring here as you have a passing test to fallback on.</p></li>
</ol>
</section>
<section id="another-interpretation-of-the-tdd-workflow">
<h4>Another interpretation of the TDD workflow<a class="headerlink" href="#another-interpretation-of-the-tdd-workflow" title="Link to this heading">#</a></h4>
<p>Red. Green. Refactor.</p>
<ul class="simple">
<li><p><em><strong>Red</strong></em> - Write a test and see it fail.</p></li>
<li><p><em><strong>Green</strong></em> - Write code and see the test pass.</p></li>
<li><p><em><strong>Refactor</strong></em> - Make the test and/or code better.</p></li>
</ul>
</section>
</section>
<section id="why-use-tdd">
<h3>Why use TDD?<a class="headerlink" href="#why-use-tdd" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Better code design - start with the test and design the external view of the feature implementation. This is achievable because when you write the test for the code that does not exist - you can think of the steps from the point of the consumer of the feature (end user) and focus on the steps they need to take to get to the desired result. This is quite the opposite from the situation where you implement the code as a feature producer (jumping straight to the solution). Since you do not have the implemented feature code, all you do is designing how you expect end users to use you code. Unless you are an idiot, all you want to do is to make your code easier to understand and use. If the test setup looks complex and convoluted - you can make it better. Little time is wasted here to make the test better as there is no actual implementation yet - you are designing via a test the code implementation you wish you had for your end user to use.</p></li>
<li><p>Improves code quality - better designed code + fully tested feature implementation raises the overall quality of the software. You design better tests which make you focus on designing a well tested code and the well tested code has the same properties software engineers value in the high quality software. Also, the by-product of TDD is a test suite that can be run again and gain. This also gives you confidence to refactor and continually iterate/improve your code base, raising the overall quality of the system.</p></li>
<li><p>Helps understand the problem - this is a stumbling block for many teams starting with TDD. Some are struggling to think of their system without thinking about the solution. But how can you come up with a solution if you do not understand the problem. TDD focuses on the problem by forcing you to come up with a design of the steps that need to be taken by the end user expressed in a form of a test. There are complex situations where it is not obvious what the steps should be taken when writing tests. Part of the trick in TDD is to work incrementally, in small steps. Those complex situations need to be broken down and the design of the individual broken pieces tackled in self-contained, independent, incremental test cases.
A note to remember with TDD, a good TDD test expresses expected outcomes, not specific solutions.</p></li>
<li><p>Faster delivery - quality matters if you want to move fast. If you want to create a better software you need to move faster, to move faster you need to create better software. The quality and speed are linked. There is no trade-off between speed and quality. Surely higher quality means more time spent on planning, figuring out the best design, writing tests, etc. That’s true, but the contrast to that is cutting corners by omitting some or all of the above mentioned steps and going straight to implementation stage and face the risk of re-work. Any re-work, bug chasing, troubleshooting, tech debt are costly. This is the time taken away from the team who could have been working on new features or services delivering value to the clients. Quality is a long term benefit that allows engineering teams to move at a faster and sustainable pace. <em><strong>Time spent doing a good job is an investment not a cost.</strong></em></p></li>
</ul>
</section>
<section id="when-to-test">
<h3>When to test?<a class="headerlink" href="#when-to-test" title="Link to this heading">#</a></h3>
<p>Always.</p>
</section>
<section id="tdd-learning-resources-and-credits">
<h3>TDD learning resources and credits<a class="headerlink" href="#tdd-learning-resources-and-credits" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Code Katas for practicing TDD with <a class="reference external" href="https://beta.cyber-dojo.org/creator/home">cyber-dojo</a></p></li>
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=llaUBH5oayw">TDD - what? why? and how?, Continuous Delivery</a></p></li>
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=ZmgbjaRfp_Q">How to build quality software fast, Continuous Delivery</a></p></li>
<li><p><a class="reference external" href="https://www.youtube.com/watch?v=XsbMNWW-hdY">Why hasn’t TDD taken over the world?, Continuous Delivery</a></p></li>
</ul>
</section>
</section>
<section id="mocking">
<h2>Mocking<a class="headerlink" href="#mocking" title="Link to this heading">#</a></h2>
</section>
<section id="performance-testing">
<h2>Performance Testing<a class="headerlink" href="#performance-testing" title="Link to this heading">#</a></h2>
</section>
<section id="mutation-testing">
<h2>Mutation Testing<a class="headerlink" href="#mutation-testing" title="Link to this heading">#</a></h2>
</section>
<section id="test-coverage">
<h2>Test coverage<a class="headerlink" href="#test-coverage" title="Link to this heading">#</a></h2>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          <a class="prev-page" href="documentation.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Documentation</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Matthew Coyle
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Testing</a><ul>
<li><a class="reference internal" href="#unit-testing">Unit Testing</a></li>
<li><a class="reference internal" href="#manual-testing">Manual Testing</a></li>
<li><a class="reference internal" href="#behaviour-driven-development">Behaviour-Driven Development</a></li>
<li><a class="reference internal" href="#test-driven-development">Test-Driven Development</a><ul>
<li><a class="reference internal" href="#what-is-it-tdd">What is it TDD?</a></li>
<li><a class="reference internal" href="#tdd-workflow">TDD workflow</a><ul>
<li><a class="reference internal" href="#steps">Steps:</a></li>
<li><a class="reference internal" href="#another-interpretation-of-the-tdd-workflow">Another interpretation of the TDD workflow</a></li>
</ul>
</li>
<li><a class="reference internal" href="#why-use-tdd">Why use TDD?</a></li>
<li><a class="reference internal" href="#when-to-test">When to test?</a></li>
<li><a class="reference internal" href="#tdd-learning-resources-and-credits">TDD learning resources and credits</a></li>
</ul>
</li>
<li><a class="reference internal" href="#mocking">Mocking</a></li>
<li><a class="reference internal" href="#performance-testing">Performance Testing</a></li>
<li><a class="reference internal" href="#mutation-testing">Mutation Testing</a></li>
<li><a class="reference internal" href="#test-coverage">Test coverage</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>